[gd_scene load_steps=28 format=3 uid="uid://b2mtty1g25yvs"]
[gd_scene load_steps=30 format=3 uid="uid://b2mtty1g25yvs"]

[ext_resource type="Script" path="res://Scripts/ParallaxBackground.gd" id="1_rm0b7"]
[ext_resource type="Texture2D" uid="uid://b67hbbdsnswv" path="res://assets/fondo/fondo nuevo/layers/parallax-space-backgound.png" id="2_0tacc"]
[ext_resource type="Texture2D" uid="uid://p5dv5mgfh2r8" path="res://assets/fondo/fondo nuevo/2.jpg" id="3_73xss"]
[ext_resource type="Texture2D" uid="uid://ckuj5nq3brwm2" path="res://assets/planetas/Planet_01.png" id="4_ocxb1"]
[ext_resource type="Texture2D" uid="uid://e8dw71mb8jjd" path="res://assets/efectos nave/Laser Sprites/33.png" id="5_l2hk4"]
[ext_resource type="Texture2D" uid="uid://dsv88u10e2ciu" path="res://assets/planetas/Planet_02.png" id="5_oju7j"]
[ext_resource type="Texture2D" uid="uid://cw6i8jtu8tvlr" path="res://assets/planetas/Planet_04.png" id="6_ci4t1"]
[ext_resource type="Texture2D" uid="uid://d2n5imvcdpe6g" path="res://assets/planetas/Planet_03.png" id="7_ub62a"]
[ext_resource type="Texture2D" uid="uid://k2klhr0ljcqo" path="res://assets/planetas/PlanetsPNG/Planet_04.png" id="7_ws1o1"]
[ext_resource type="Texture2D" uid="uid://bcuo7me4yk12e" path="res://assets/efectos nave/Laser Sprites/37.png" id="8_3l8vs"]
[ext_resource type="AudioStream" uid="uid://ccy5suqbsmbxh" path="res://assets/Musica/DavidKBD - Cosmic Pack 05 - Stellar Confrontation-full.ogg" id="10_mfcqf"]
[ext_resource type="Texture2D" uid="uid://4ofbd2jufi6v" path="res://assets/efectos nave/Laser Sprites/32.png" id="11_31l53"]
[ext_resource type="Script" path="res://Scripts/Player/nave_principal.gd" id="11_kkutr"]
[ext_resource type="Texture2D" uid="uid://tijmp7il875o" path="res://assets/nave y enemigos/ShipsPNG/ship1.png" id="12_ia5lm"]
[ext_resource type="PackedScene" uid="uid://dmr0fcamx7t56" path="res://addons/virtual_joystick/virtual_joystick_scene.tscn" id="13_tdgpp"]
[ext_resource type="Script" path="res://Scripts/Player/area_enemie_on_range.gd" id="16_damah"]
[ext_resource type="PackedScene" uid="uid://dvgcnltwsjna0" path="res://escenas/enemie_1.tscn" id="16_x17yg"]
[ext_resource type="PackedScene" uid="uid://cd31bpoomx5mo" path="res://escenas/enemie_2.tscn" id="17_s0fxt"]
[ext_resource type="Texture2D" uid="uid://dl0g0dwoiwvmp" path="res://GUI/PNG/Loading_Bar/barra_de_vida.png" id="17_vlkes"]
[ext_resource type="Script" path="res://Scripts/Enemie/enemie_respawn_area.gd" id="17_voiut"]
[ext_resource type="Texture2D" uid="uid://dvmww85rb2qg7" path="res://assets/efectos nave/efectos explosion/cuidado que explota.jpg" id="19_s5fow"]

[sub_resource type="CircleShape2D" id="CircleShape2D_b811t"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_oxrb2"]
blend_mode = 1

[sub_resource type="Curve" id="Curve_dldxo"]
_data = [Vector2(0, 0.527472), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_otfdq"]
_data = [Vector2(0, 0.450549), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_igjur"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveXYZTexture" id="CurveXYZTexture_yyc8l"]
curve_x = SubResource("Curve_dldxo")
curve_y = SubResource("Curve_otfdq")
curve_z = SubResource("Curve_igjur")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_u2e77"]
particle_flag_disable_z = true
gravity = Vector3(0, 0, 0)
scale_min = 0.03
scale_max = 0.03
scale_curve = SubResource("CurveXYZTexture_yyc8l")
color = Color(1, 0.219608, 0.0431373, 1)

[sub_resource type="CircleShape2D" id="CircleShape2D_4xofj"]
radius = 257.381

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rpbj7"]
size = Vector2(20, 210.781)

[node name="mundo" type="Node2D"]
scale = Vector2(2, 2)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ParallaxBackground" type="ParallaxBackground" parent="CanvasLayer"]
script = ExtResource("1_rm0b7")

[node name="fondo" type="Sprite2D" parent="CanvasLayer/ParallaxBackground"]
modulate = Color(0.356235, 0.135597, 0.0294325, 1)
position = Vector2(3813, 110)
scale = Vector2(14.4265, 12.7625)
texture = ExtResource("2_0tacc")

[node name="2" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/fondo"]
modulate = Color(0.430678, 0, 0.103686, 1)
texture_filter = 1
position = Vector2(-252.751, 0.274238)
scale = Vector2(0.0298507, 0.027873)
skew = 0.000432134
texture = ExtResource("3_73xss")

[node name="Planetas" type="ParallaxLayer" parent="CanvasLayer/ParallaxBackground"]
motion_scale = Vector2(0.265, 0.3)

[node name="Planet01" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/Planetas"]
position = Vector2(705, 545)
scale = Vector2(0.25, 0.23727)
texture = ExtResource("4_ocxb1")

[node name="planetas" type="ParallaxLayer" parent="CanvasLayer/ParallaxBackground"]
position = Vector2(11, -2)
motion_scale = Vector2(0.265, 0.3)

[node name="Planet04" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/planetas"]
self_modulate = Color(33.513, 2.703, 1.081, 1)
position = Vector2(-1093, 495)
scale = Vector2(0.426342, 0.432074)
texture = ExtResource("7_ws1o1")

[node name="Planet01" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/planetas"]
modulate = Color(0.905882, 0.25098, 0.345098, 1)
position = Vector2(1599, -204)
scale = Vector2(0.137248, 0.136669)
texture = ExtResource("4_ocxb1")

[node name="Planet02" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/planetas"]
position = Vector2(-191, 624)
scale = Vector2(0.445495, 0.434686)
texture = ExtResource("5_oju7j")

[node name="planetas2" type="ParallaxLayer" parent="CanvasLayer/ParallaxBackground"]
motion_scale = Vector2(0.265, 0.3)

[node name="fondo" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/planetas2"]
position = Vector2(-220, -315)
scale = Vector2(2.28819, 2)
texture = ExtResource("8_3l8vs")

[node name="fondo2" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/planetas2"]
position = Vector2(-187, -295)
scale = Vector2(3.02769, 2.9916)
texture = ExtResource("5_l2hk4")

[node name="Planet04" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/planetas2"]
position = Vector2(-69, 79)
scale = Vector2(0.115, 0.115)
texture = ExtResource("6_ci4t1")

[node name="Planet05" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/planetas2"]
modulate = Color(0.988235, 0.972549, 0.270588, 1)
position = Vector2(1319, 731)
scale = Vector2(0.246988, 0.230552)
texture = ExtResource("7_ws1o1")

[node name="planetas3" type="ParallaxLayer" parent="CanvasLayer/ParallaxBackground"]
motion_scale = Vector2(0.265, 0.3)

[node name="Planet04" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/planetas3"]
modulate = Color(0.894118, 0.54902, 0, 1)
position = Vector2(-272, -294)
scale = Vector2(0.36, 0.331776)
texture = ExtResource("7_ub62a")

[node name="32" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/planetas3"]
position = Vector2(688.063, -38.7495)
scale = Vector2(2.4524, 6.63017)
texture = ExtResource("11_31l53")

[node name="Planet03" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/planetas3"]
position = Vector2(656, -44)
scale = Vector2(0.6, 0.576)
texture = ExtResource("7_ub62a")

[node name="ParallaxLayer" type="ParallaxLayer" parent="CanvasLayer/ParallaxBackground"]

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
position = Vector2(5.5, 0)
scale = Vector2(0.5, 0.5)
stream = ExtResource("10_mfcqf")
volume_db = -21.438
max_distance = 10000.0

[node name="Nave" type="CharacterBody2D" parent="."]
position = Vector2(240.5, 135.5)
script = ExtResource("11_kkutr")

[node name="Camera2D" type="Camera2D" parent="Nave"]

[node name="Sprite2D" type="Sprite2D" parent="Nave"]
scale = Vector2(0.035, 0.035)
texture = ExtResource("12_ia5lm")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Nave"]
shape = SubResource("CircleShape2D_b811t")
disabled = true

[node name="EstelaGpu" type="GPUParticles2D" parent="Nave"]
z_index = -1
material = SubResource("CanvasItemMaterial_oxrb2")
position = Vector2(0, 5.5)
scale = Vector2(0.08, 0.08)
skew = -0.062832
amount = 100
process_material = SubResource("ParticleProcessMaterial_u2e77")
texture = ExtResource("19_s5fow")
lifetime = 0.3

[node name="Timer" type="Timer" parent="Nave"]
wait_time = 0.447
autostart = true

[node name="AreaCloserEnemie" type="Area2D" parent="Nave"]
script = ExtResource("16_damah")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Nave/AreaCloserEnemie"]
shape = SubResource("CircleShape2D_4xofj")
debug_color = Color(0.880998, 0.269944, 0.521596, 0.42)

[node name="RayCast2D" type="RayCast2D" parent="Nave"]
target_position = Vector2(0, -90.5)
collide_with_areas = true
collide_with_bodies = false

[node name="UI2" type="CanvasLayer" parent="."]

[node name="Virtual joystick left" parent="UI2" instance=ExtResource("13_tdgpp")]
offset_top = -306.0
offset_bottom = -6.0
visibility_mode = 2

[node name="Virtual joystick right" parent="UI2" instance=ExtResource("13_tdgpp")]
anchors_preset = 3
anchor_left = 1.0
anchor_right = 1.0
offset_left = -302.0
offset_top = -306.0
offset_right = -2.0
offset_bottom = -6.0
grow_horizontal = 0
visibility_mode = 2
use_input_actions = false

[node name="TextureProgressBar" type="TextureProgressBar" parent="UI2"]
texture_filter = 1
offset_left = 787.0
offset_top = 22.0
offset_right = 937.0
offset_bottom = 62.0
max_value = 5.0
value = 5.0
texture_under = ExtResource("17_vlkes")
texture_progress = ExtResource("17_vlkes")
tint_under = Color(0.712692, 1.2514e-06, 4.81307e-07, 1)

[node name="Enemie_1" parent="." instance=ExtResource("16_x17yg")]

[node name="Enemie_2" parent="." instance=ExtResource("17_s0fxt")]

[node name="RespawnArea" type="Area2D" parent="."]
script = ExtResource("17_voiut")

[node name="CollisionShape2D" type="CollisionShape2D" parent="RespawnArea"]
position = Vector2(22.5, 125.5)
shape = SubResource("RectangleShape2D_rpbj7")

[node name="RespawnArea2" type="Area2D" parent="."]
position = Vector2(251.5, -1)
script = ExtResource("17_voiut")

[node name="CollisionShape2D" type="CollisionShape2D" parent="RespawnArea2"]
position = Vector2(22.5, 125.5)
shape = SubResource("RectangleShape2D_rpbj7")

[connection signal="timeout" from="Nave/Timer" to="Nave" method="_on_timer_timeout"]
[connection signal="enemieOnRange" from="Nave/AreaCloserEnemie" to="Nave" method="_on_area_closer_enemie_enemie_on_range"]
